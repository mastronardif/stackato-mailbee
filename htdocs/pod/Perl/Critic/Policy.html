<html><head><title>Perl::Critic::Policy</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.012001 at Wed Apr 13 00:04:29 2011 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#INTERFACE_SUPPORT'>INTERFACE SUPPORT</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <li class='indexItem indexItem1'><a href='#DOCUMENTATION'>DOCUMENTATION</a>
  <li class='indexItem indexItem1'><a href='#OVERLOADS'>OVERLOADS</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Perl::Critic::Policy - Base class for all Policy modules.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Perl::Critic::Policy is the abstract base class for all Policy objects.
If you&#39;re developing your own Policies,
your job is to implement and override its methods in a subclass.
To work with the <a href="../../Perl/Critic.html" class="podlinkpod"
>Perl::Critic</a> engine,
your implementation must behave as described below.
For a detailed explanation on how to make new Policy modules,
please see the <a href="../../Perl/Critic/DEVELOPER.html" class="podlinkpod"
>Perl::Critic::DEVELOPER</a> document included in this distribution.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="INTERFACE_SUPPORT"
>INTERFACE SUPPORT</a></h1>

<p>This is considered to be a public class.
Any changes to its interface will go through a deprecation cycle.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<dl>
<dt><a name="new(_..._)"
><code>new( ...
)</code></a></dt>

<dd>
<p>Don&#39;t call this.
As a Policy author,
do not implement this.
Use the <code>initialize_if_enabled()</code> method for your Policy setup.
See the <a href="../../Perl/Critic/DEVELOPER.html" class="podlinkpod"
>developer</a> documentation for more.</p>

<dt><a name="initialize_if_enabled(_$config_)"
><code>initialize_if_enabled( $config )</code></a></dt>

<dd>
<p>This receives an instance of <a href="../../Perl/Critic/PolicyConfig.html" class="podlinkpod"
>Perl::Critic::PolicyConfig</a> as a parameter,
and is only invoked if this Policy is enabled by the user.
Thus,
this is the preferred place for subclasses to do any initialization.</p>

<p>Implementations of this method should return a boolean value indicating whether the Policy should continue to be enabled.
For most subclasses,
this will always be <code>$TRUE</code>.
Policies that depend upon external modules or other system facilities that may or may not be available should test for the availability of these dependencies and return <code>$FALSE</code> if they are not.</p>

<dt><a name="prepare_to_scan_document(_$document_)"
><code>prepare_to_scan_document( $document )</code></a></dt>

<dd>
<p>The parameter is about to be scanned by this Policy.
Whatever this Policy wants to do in terms of preparation should happen here.
Returns a boolean value indicating whether the document should be scanned at all; if this is a false value,
this Policy won&#39;t be applied to the document.
By default,
does nothing but return <code>$TRUE</code>.</p>

<dt><a name="violates(_$element,_$document_)"
><code> violates( $element,
$document ) </code></a></dt>

<dd>
<p>Given a <a href="../../PPI/Element.html" class="podlinkpod"
>PPI::Element</a> and a <a href="../../PPI/Document.html" class="podlinkpod"
>PPI::Document</a>,
returns one or more <a href="../../Perl/Critic/Violation.html" class="podlinkpod"
>Perl::Critic::Violation</a> objects if the <code>$element</code> violates this Policy.
If there are no violations,
then it returns an empty list.
If the Policy encounters an exception,
then it should <code>croak</code> with an error message and let the caller decide how to handle it.</p>

<p><code>violates()</code> is an abstract method and it will abort if you attempt to invoke it directly.
It is the heart of all Policy modules,
and your subclass <b>must</b> override this method.</p>

<dt><a name="violation(_$description,_$explanation,_$element_)"
><code> violation( $description,
$explanation,
$element ) </code></a></dt>

<dd>
<p>Returns a reference to a new <code>Perl::Critic::Violation</code> object.
The arguments are a description of the violation (as string),
an explanation for the policy (as string) or a series of page numbers in PBP (as an ARRAY ref),
a reference to the <a href="../../PPI.html" class="podlinkpod"
>PPI</a> element that caused the violation.</p>

<p>These are the same as the constructor to <a href="../../Perl/Critic/Violation.html" class="podlinkpod"
>Perl::Critic::Violation</a>,
but without the severity.
The Policy itself knows the severity.</p>

<dt><a name="new_parameter_value_exception(_$option_name,_$option_value,_$source,_$message_suffix_)"
><code> new_parameter_value_exception( $option_name,
$option_value,
$source,
$message_suffix ) </code></a></dt>

<dd>
<p>Create a <a href="../../Perl/Critic/Exception/Configuration/Option/Policy/ParameterValue.html" class="podlinkpod"
>Perl::Critic::Exception::Configuration::Option::Policy::ParameterValue</a> for this Policy.</p>

<dt><a name="throw_parameter_value_exception(_$option_name,_$option_value,_$source,_$message_suffix_)"
><code> throw_parameter_value_exception( $option_name,
$option_value,
$source,
$message_suffix ) </code></a></dt>

<dd>
<p>Create and throw a <a href="../../Perl/Critic/Exception/Configuration/Option/Policy/ParameterValue.html" class="podlinkpod"
>Perl::Critic::Exception::Configuration::Option::Policy::ParameterValue</a>.
Useful in parameter parser implementations.</p>

<dt><a name="get_long_name()"
><code> get_long_name() </code></a></dt>

<dd>
<p>Return the full package name of this policy.</p>

<dt><a name="get_short_name()"
><code> get_short_name() </code></a></dt>

<dd>
<p>Return the name of this policy without the &#34;Perl::Critic::Policy::&#34; prefix.</p>

<dt><a name="is_enabled()"
><code> is_enabled() </code></a></dt>

<dd>
<p>Answer whether this policy is really active or not.
Returns a true value if it is,
a false,
yet defined,
value if it isn&#39;t,
and an undefined value if it hasn&#39;t yet been decided whether it will be.</p>

<dt><a name="applies_to()"
><code> applies_to() </code></a></dt>

<dd>
<p>Returns a list of the names of PPI classes that this Policy cares about.
By default,
the result is <code>PPI::Element</code>.
Overriding this method in Policy subclasses should lead to significant performance increases.</p>

<dt><a name="default_maximum_violations_per_document()"
><code> default_maximum_violations_per_document() </code></a></dt>

<dd>
<p>Returns the default maximum number of violations for this policy to report per document.
By default,
this not defined,
but subclasses may override this.</p>

<dt><a name="get_maximum_violations_per_document()"
><code> get_maximum_violations_per_document() </code></a></dt>

<dd>
<p>Returns the maximum number of violations this policy will report for a single document.
If this is not defined,
then there is no limit.
If <a href="#set_maximum_violations_per_document()" class="podlinkpod"
>&#34;set_maximum_violations_per_document()&#34;</a> has not been invoked,
then <a href="#default_maximum_violations_per_document()" class="podlinkpod"
>&#34;default_maximum_violations_per_document()&#34;</a> is returned.</p>

<dt><a name="set_maximum_violations_per_document()"
><code> set_maximum_violations_per_document() </code></a></dt>

<dd>
<p>Specify the maximum violations that this policy should report for a document.</p>

<dt><a name="default_severity()"
><code> default_severity() </code></a></dt>

<dd>
<p>Returns the default severity for violating this Policy.
See the <code>$SEVERITY</code> constants in <a href="../../Perl/Critic/Utils.html" class="podlinkpod"
>Perl::Critic::Utils</a> for an enumeration of possible severity values.
By default,
this method returns <code>$SEVERITY_LOWEST</code>.
Authors of Perl::Critic::Policy subclasses should override this method to return a value that they feel is appropriate for their Policy.
In general,
Polices that are widely accepted or tend to prevent bugs should have a higher severity than those that are more subjective or cosmetic in nature.</p>

<dt><a name="get_severity()"
><code> get_severity() </code></a></dt>

<dd>
<p>Returns the severity of violating this Policy.
If the severity has not been explicitly defined by calling <code>set_severity</code>,
then the <code>default_severity</code> is returned.
See the <code>$SEVERITY</code> constants in <a href="../../Perl/Critic/Utils.html" class="podlinkpod"
>Perl::Critic::Utils</a> for an enumeration of possible severity values.</p>

<dt><a name="set_severity(_$N_)"
><code> set_severity( $N ) </code></a></dt>

<dd>
<p>Sets the severity for violating this Policy.
Clients of Perl::Critic::Policy objects can call this method to assign a different severity to the Policy if they don&#39;t agree with the <code>default_severity</code>.
See the <code>$SEVERITY</code> constants in <a href="../../Perl/Critic/Utils.html" class="podlinkpod"
>Perl::Critic::Utils</a> for an enumeration of possible values.</p>

<dt><a name="default_themes()"
><code> default_themes() </code></a></dt>

<dd>
<p>Returns a sorted list of the default themes associated with this Policy.
The default method returns an empty list.
Policy authors should override this method to return a list of themes that are appropriate for their policy.</p>

<dt><a name="get_themes()"
><code> get_themes() </code></a></dt>

<dd>
<p>Returns a sorted list of the themes associated with this Policy.
If you haven&#39;t added themes or set the themes explicitly,
this method just returns the default themes.</p>

<dt><a name="set_themes(_@THEME_LIST_)"
><code> set_themes( @THEME_LIST ) </code></a></dt>

<dd>
<p>Sets the themes associated with this Policy.
Any existing themes are overwritten.
Duplicate themes will be removed.</p>

<dt><a name="add_themes(_@THEME_LIST_)"
><code> add_themes( @THEME_LIST ) </code></a></dt>

<dd>
<p>Appends additional themes to this Policy.
Any existing themes are preserved.
Duplicate themes will be removed.</p>

<dt><a name="get_abstract()"
><code> get_abstract() </code></a></dt>

<dd>
<p>Retrieve the abstract for this policy (the part of the NAME section of the POD after the module name),
if it is available.</p>

<dt><a name="get_raw_abstract()"
><code> get_raw_abstract() </code></a></dt>

<dd>
<p>Retrieve the abstract for this policy (the part of the NAME section of the POD after the module name),
if it is available,
in the unparsed form.</p>

<dt><a name="parameter_metadata_available()"
><code> parameter_metadata_available() </code></a></dt>

<dd>
<p>Returns whether information about the parameters is available.</p>

<dt><a name="get_parameters()"
><code> get_parameters() </code></a></dt>

<dd>
<p>Returns a reference to an array containing instances of <a href="../../Perl/Critic/PolicyParameter.html" class="podlinkpod"
>Perl::Critic::PolicyParameter</a>.</p>

<p>Note that this will return an empty list if the parameters for this policy are unknown.
In order to differentiate between this circumstance and the one where this policy does not take any parameters,
it is necessary to call <code>parameter_metadata_available()</code>.</p>

<dt><a name="set_format(_$format_)"
><code>set_format( $format )</code></a></dt>

<dd>
<p>Class method.
Sets the format for all Policy objects when they are evaluated in string context.
The default is <code>&#34;%p\n&#34;</code>.
See <a href="#OVERLOADS" class="podlinkpod"
>&#34;OVERLOADS&#34;</a> for formatting options.</p>

<dt><a name="get_format()"
><code>get_format()</code></a></dt>

<dd>
<p>Class method.
Returns the current format for all Policy objects when they are evaluated in string context.</p>

<dt><a name="to_string()"
><code>to_string()</code></a></dt>

<dd>
<p>Returns a string representation of the policy.
The content of the string depends on the current value returned by <code>get_format()</code>.
See <a href="#OVERLOADS" class="podlinkpod"
>&#34;OVERLOADS&#34;</a> for the details.</p>

<dt><a name="is_safe()"
><code>is_safe()</code></a></dt>

<dd>
<p>Answer whether this Policy can be used to analyze untrusted code,
i.e.
the Policy doesn&#39;t have any potential side effects.</p>

<p>This method returns a true value by default.</p>

<p>An &#34;unsafe&#34; policy might attempt to compile the code,
which,
if you have <code>BEGIN</code> or <code>CHECK</code> blocks that affect files or connect to databases,
is not a safe thing to do.
If you are writing a such a Policy,
then you should override this method to return false.</p>

<p>By default <a href="../../Perl/Critic.html" class="podlinkpod"
>Perl::Critic</a> will not run unsafe policies.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DOCUMENTATION"
>DOCUMENTATION</a></h1>

<p>When your Policy module first <code>use</code>s <a href="../../Perl/Critic/Violation.html" class="podlinkpod"
>Perl::Critic::Violation</a>,
it will try and extract the DESCRIPTION section of your Policy module&#39;s POD.
This information is displayed by Perl::Critic if the verbosity level is set accordingly.
Therefore,
please include a DESCRIPTION section in the POD for any Policy modules that you author.
Thanks.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OVERLOADS"
>OVERLOADS</a></h1>

<p>Perl::Critic::Violation overloads the <code>&#34;&#34;</code> operator to produce neat little messages when evaluated in string context.</p>

<p>Formats are a combination of literal and escape characters similar to the way <code>sprintf</code> works.
If you want to know the specific formatting capabilities,
look at <a href="../../String/Format.html" class="podlinkpod"
>String::Format</a>.
Valid escape characters are:</p>

<dl>
<dt><a name="%P"
><code>%P</code></a></dt>

<dd>
<p>Name of the Policy module.</p>

<dt><a name="%p"
><code>%p</code></a></dt>

<dd>
<p>Name of the Policy without the <code>Perl::Critic::Policy::</code> prefix.</p>

<dt><a name="%a"
><code>%a</code></a></dt>

<dd>
<p>The policy abstract.</p>

<dt><a name="%O"
><code>%O</code></a></dt>

<dd>
<p>List of supported policy parameters.
Takes an option of a format string for <a href="../../Perl/Critic/PolicyParameter.html#to_formatted_string" class="podlinkpod"
>&#34;to_formatted_string&#34; in Perl::Critic::PolicyParameter</a>.
For example,
this can be used like <code>%{%n - %d\n}O</code> to get a list of parameter names followed by their descriptions.</p>

<dt><a name="%U"
><code>%U</code></a></dt>

<dd>
<p>A message stating that the parameters for the policy are unknown if <code>parameter_metadata_available()</code> returns false.
Takes an option of what the message should be,
which defaults to &#34;Cannot programmatically discover what parameters this policy takes.&#34;.
The value of this option is interpolated in order to expand the standard escape sequences (<code>\n</code>,
<code>\t</code>,
etc.).</p>

<dt><a name="%S"
><code>%S</code></a></dt>

<dd>
<p>The default severity level of the policy.</p>

<dt><a name="%s"
><code>%s</code></a></dt>

<dd>
<p>The current severity level of the policy.</p>

<dt><a name="%T"
><code>%T</code></a></dt>

<dd>
<p>The default themes for the policy.</p>

<dt><a name="%t"
><code>%t</code></a></dt>

<dd>
<p>The current themes for the policy.</p>

<dt><a name="%V"
><code>%V</code></a></dt>

<dd>
<p>The default maximum number of violations per document of the policy.</p>

<dt><a name="%v"
><code>%v</code></a></dt>

<dd>
<p>The current maximum number of violations per document of the policy.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Jeffrey Ryan Thalhammer &#60;jeff@imaginative-software.com&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c) 2005-2011 Imaginative Software Systems.
All rights reserved.</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.
The full text of this license can be found in the LICENSE file included with this module.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>

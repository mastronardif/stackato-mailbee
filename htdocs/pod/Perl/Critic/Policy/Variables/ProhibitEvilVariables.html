<html><head><title>Perl::Critic::Policy::Variables::ProhibitEvilVariables</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.012001 at Wed Apr 13 00:04:30 2011 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#AFFILIATION'>AFFILIATION</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#CONFIGURATION'>CONFIGURATION</a>
  <li class='indexItem indexItem1'><a href='#RESTRICTIONS'>RESTRICTIONS</a>
  <li class='indexItem indexItem1'><a href='#NOTES'>NOTES</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Perl::Critic::Policy::Variables::ProhibitEvilVariables - Ban variables that aren&#39;t blessed by your shop.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AFFILIATION"
>AFFILIATION</a></h1>

<p>This Policy is part of the core <a href="../../../../Perl/Critic.html" class="podlinkpod"
>Perl::Critic</a> distribution.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Use this policy if you wish to prohibit the use of specific variables.
These may be global variables warned against in <code>perlvar</code>,
or just variables whose names you do not like.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONFIGURATION"
>CONFIGURATION</a></h1>

<p>The set of prohibited variables is configurable via the <code>variables</code> and <code>variables_file</code> options.</p>

<p>The value of <code>variables</code> should be a string of space-delimited,
fully qualified variable names and/or regular expressions.
An example of prohibiting two specific variables in a <em>.perlcriticrc</em> file:</p>

<pre>    [Variables::ProhibitEvilVariables]
    variables = $[ $^S $SIG{__DIE__}</pre>

<p>If you prohibit an array or hash (e.g. <code>@INC</code>), use of elements of the array or hash will be prohibited as well. If you specify a subscripted variable (e.g. <code>$SIG{__DIE__}</code>), only the literal subscript specified will be detected. The above &#60;.perlcritic&#62; file, for example, will cause <code>perlcritic (1)</code> to detect <code>$SIG{__DIE__} = \&#38;foo</code>, but not</p>

<pre>    my $foo = &#39;__DIE__&#39;;
    $SIG{$foo} = \&#38;foo;</pre>

<p>Regular expressions are identified by values beginning and ending with slashes. Any variable with a name that matches <code>m/pattern/sm</code> will be forbidden. For example:</p>

<pre>    [Variables::ProhibitEvilVariables]
    variables = /acme/</pre>

<p>would cause all variables that match <code>m/acme/</code> to be forbidden. If you want a case-blind check, you can use (?i: ... ). For example</p>

<pre>    [Variables::ProhibitEvilVariables]
    variables = /(?i:acme)/</pre>

<p>forbids variables that match <code>m/acme/smi</code>.</p>

<p>In addition, you can override the default message (&#34;Prohibited variable &#34;<i>variable</i>&#34; used&#34;) with your own, in order to give suggestions for alternative action. To do so, put your message in curly braces after the variable name or regular expression. Like this:</p>

<pre>    [Variables::ProhibitEvilVariables]
    variables = $[ {Found use of $[. Program to base index 0 instead}</pre>

<p>If your message contains curly braces, you can enclose it in parentheses, angle brackets, or square brackets instead.</p>

<p>Similarly, the <code>variables_file</code> option gives the name of a file containing specifications for prohibited variables. Only one variable specification is allowed per line and comments start with an octothorp and run to end of line; no curly braces are necessary for delimiting messages:</p>

<pre>    $[      # Prohibit the &#34;$[&#34; variable and use the default message.

    # Prohibit the &#34;$^S&#34; variable and give a replacement message.
    $^S     Having to think about $^S in exception handlers is just wrong

    # Use a regular expression.
    /acme/  No coyotes allowed.</pre>

<p>By default, there are no prohibited variables, although I can think of a few that should be. See <code>perldoc perlvar</code> for a few suggestions.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="RESTRICTIONS"
>RESTRICTIONS</a></h1>

<p>Variables of the form <code>${^foo}</code> are not recognized by PPI as of version 1.206. When PPI recognizes these, this policy will Just Work for them too.</p>

<p>Only direct references to prohibited variables and literal subscripts will be recognized. For example, if you prohibit $[, the first line in</p>

<pre> my $foo = \$[;
 $$foo = 1;</pre>

<p>will be flagged as a violation, but not the second, even though the second, in fact, assigns to $[. Similarly, if you prohibit $SIG{__DIE__}, this policy will not recognize</p>

<pre> my $foo = &#39;__DIE__&#39;;
 $SIG{$foo} = sub {warn &#39;I cannot die!&#39;};</pre>

<p>as an assignment to $SIG{__DIE__}.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NOTES"
>NOTES</a></h1>

<p>This policy leans heavily on <a href="../../../../Perl/Critic/Policy/Modules/ProhibitEvilModules.html" class="podlinkpod"
>Perl::Critic::Policy::Modules::ProhibitEvilModules</a> by Jeffrey Ryan Thalhammer.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Thomas R. Wyant, III <em>wyant at cpan dot org</em></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c) 2009-2011 Thomas R. Wyant, III</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself. The full text of this license can be found in the LICENSE file included with this module.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>

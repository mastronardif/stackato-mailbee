<html><head><title>Perl::Critic::Policy::RegularExpressions::ProhibitEscapedMetacharacters</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.012001 at Wed Apr 13 00:04:29 2011 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#AFFILIATION'>AFFILIATION</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#CONFIGURATION'>CONFIGURATION</a>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#CREDITS'>CREDITS</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Perl::Critic::Policy::RegularExpressions::ProhibitEscapedMetacharacters - Use character classes for literal meta-characters instead of escapes.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AFFILIATION"
>AFFILIATION</a></h1>

<p>This Policy is part of the core <a href="../../../../Perl/Critic.html" class="podlinkpod"
>Perl::Critic</a> distribution.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Ever heard of leaning toothpick syndrome?
That comes from writing regular expressions that match on characters that are significant in regular expressions.
For example,
the expression to match four forward slashes looks like:</p>

<pre>    m/\/\/\/\//;</pre>

<p>Well, this policy doesn&#39;t solve that problem (write it as <code>m{////}</code> instead!) but solves a related one. As seen above, the escapes make the expression hard to parse visually. One solution is to use character classes. You see, inside of character classes, the only characters that are special are <code>\</code>, <code>]</code>, <code>^</code> and <code>-</code>, so you don&#39;t need to escape the others. So instead of the following loose IPv4 address matcher:</p>

<pre>    m/ \d+ \. \d+ \. \d+ \. \d+ /x;</pre>

<p>You could write:</p>

<pre>    m/ \d+ [.] \d+ [.] \d+ [.] \d+ /x;</pre>

<p>which is certainly more readable, if less recognizable prior the publication of Perl Best Practices. (Of course, you should really use <a href="../../../../Regexp/Common/net.html" class="podlinkpod"
>Regexp::Common::net</a> to match IPv4 addresses!)</p>

<p>Specifically, this policy forbids backslashes immediately prior to the following characters:</p>

<pre>    { } ( ) . * + ? | #</pre>

<p>We make special exception for <code>$</code> because <code>/[$]/</code> turns into <code>/[5.008006/</code> for Perl 5.8.6. We also make an exception for <code>^</code> because it has special meaning (negation) in a character class. Finally, <code>[</code> and <code>]</code> are exempt, of course, because they are awkward to represent in character classes.</p>

<p>Note that this policy does not forbid unnecessary escaping. So go ahead and (pointlessly) escape <code>!</code> characters.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONFIGURATION"
>CONFIGURATION</a></h1>

<p>This Policy is not configurable except for the standard options.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS</a></h1>

<p>Perl treats <code>m/[#]/x</code> in unexpected ways. I think it&#39;s a bug in Perl itself, but am not 100% sure that I have not simply misunderstood...</p>

<p>This part makes sense:</p>

<pre>    &#34;#f&#34; =~ m/[#]f/x;     # match
    &#34;#f&#34; =~ m/[#]a/x;     # no match</pre>

<p>This doesn&#39;t:</p>

<pre>    $qr  = qr/f/;
    &#34;#f&#34; =~ m/[#]$qr/x; # no match</pre>

<p>Neither does this:</p>

<pre>    print qr/[#]$qr/x;  # yields &#39;(?x-ism:[#]$qr
                                )&#39;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CREDITS"
>CREDITS</a></h1>

<p>Initial development of this policy was supported by a grant from the Perl Foundation.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Chris Dolan &#60;cdolan@cpan.org&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c) 2007-2011 Chris Dolan. Many rights reserved.</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself. The full text of this license can be found in the LICENSE file included with this module</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>

<html><head><title>Perl::Critic::Violation</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.012001 at Wed Apr 13 00:04:30 2011 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#INTERFACE_SUPPORT'>INTERFACE SUPPORT</a>
  <li class='indexItem indexItem1'><a href='#CONSTRUCTOR'>CONSTRUCTOR</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <li class='indexItem indexItem1'><a href='#OVERLOADS'>OVERLOADS</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Perl::Critic::Violation - A violation of a Policy found in some source code.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  use PPI;
  use Perl::Critic::Violation;

  my $elem = $doc-&#62;child(0);      # $doc is a PPI::Document object
  my $desc = &#39;Offending code&#39;;    # Describe the violation
  my $expl = [1,45,67];           # Page numbers from PBP
  my $sev  = 5;                   # Severity level of this violation

  my $vio  = Perl::Critic::Violation-&#62;new($desc, $expl, $node, $sev);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Perl::Critic::Violation is the generic representation of an individual Policy violation. Its primary purpose is to provide an abstraction layer so that clients of <a href="../../Perl/Critic.html" class="podlinkpod"
>Perl::Critic</a> don&#39;t have to know anything about <a href="../../PPI.html" class="podlinkpod"
>PPI</a>. The <code>violations</code> method of all <a href="../../Perl/Critic/Policy.html" class="podlinkpod"
>Perl::Critic::Policy</a> subclasses must return a list of these Perl::Critic::Violation objects.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="INTERFACE_SUPPORT"
>INTERFACE SUPPORT</a></h1>

<p>This is considered to be a public class. Any changes to its interface will go through a deprecation cycle.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONSTRUCTOR"
>CONSTRUCTOR</a></h1>

<dl>
<dt><a name="new(_$description,_$explanation,_$element,_$severity_)"
><code>new( $description, $explanation, $element, $severity )</code></a></dt>

<dd>
<p>Returns a reference to a new <code>Perl::Critic::Violation</code> object. The arguments are a description of the violation (as string), an explanation for the policy (as string) or a series of page numbers in PBP (as an ARRAY ref), a reference to the <a href="../../PPI.html" class="podlinkpod"
>PPI</a> element that caused the violation, and the severity of the violation (as an integer).</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<dl>
<dt><a name="description()"
><code>description()</code></a></dt>

<dd>
<p>Returns a brief description of the specific violation. In other words, this value may change on a per violation basis.</p>

<dt><a name="explanation()"
><code>explanation()</code></a></dt>

<dd>
<p>Returns an explanation of the policy as a string or as reference to an array of page numbers in PBP. This value will generally not change based upon the specific code violating the policy.</p>

<dt><a name="location()"
><code>location()</code></a></dt>

<dd>
<p>Don&#39;t use this method. Use the <code>line_number()</code>, <code>logical_line_number()</code>, <code>column_number()</code>, <code>visual_column_number()</code>, and <code>logical_filename()</code> methods instead.</p>

<p>Returns a five-element array reference containing the line and real &#38; virtual column and logical numbers and logical file name where this Violation occurred, as in <a href="../../PPI/Element.html" class="podlinkpod"
>PPI::Element</a>.</p>

<dt><a name="line_number()"
><code>line_number()</code></a></dt>

<dd>
<p>Returns the physical line number that the violation was found on.</p>

<dt><a name="logical_line_number()"
><code>logical_line_number()</code></a></dt>

<dd>
<p>Returns the logical line number that the violation was found on. This can differ from the physical line number when there were <code>#line</code> directives in the code.</p>

<dt><a name="column_number()"
><code>column_number()</code></a></dt>

<dd>
<p>Returns the physical column that the violation was found at. This means that hard tab characters count as a single character.</p>

<dt><a name="visual_column_number()"
><code>visual_column_number()</code></a></dt>

<dd>
<p>Returns the column that the violation was found at, as it would appear if hard tab characters were expanded, based upon the value of <a href="../../PPI/Document.html#tab_width_%5B_%24width_%5D" class="podlinkpod"
>&#34;tab_width [ $width ]&#34; in PPI::Document</a>.</p>

<dt><a name="filename()"
><code>filename()</code></a></dt>

<dd>
<p>Returns the path to the file where this Violation occurred. In some cases, the path may be undefined because the source code was not read directly from a file.</p>

<dt><a name="logical_filename()"
><code>logical_filename()</code></a></dt>

<dd>
<p>Returns the logical path to the file where the Violation occurred. This can differ from <code>filename()</code> when there was a <code>#line</code> directive in the code.</p>

<dt><a name="severity()"
><code>severity()</code></a></dt>

<dd>
<p>Returns the severity of this Violation as an integer ranging from 1 to 5, where 5 is the &#34;most&#34; severe.</p>

<dt><a name="sort_by_severity(_@violation_objects_)"
><code>sort_by_severity( @violation_objects )</code></a></dt>

<dd>
<p>If you need to sort Violations by severity, use this handy routine:</p>

<pre>    @sorted = Perl::Critic::Violation::sort_by_severity(@violations);</pre>

<dt><a name="sort_by_location(_@violation_objects_)"
><code>sort_by_location( @violation_objects )</code></a></dt>

<dd>
<p>If you need to sort Violations by location, use this handy routine:</p>

<pre>    @sorted = Perl::Critic::Violation::sort_by_location(@violations);</pre>

<dt><a name="diagnostics()"
><code>diagnostics()</code></a></dt>

<dd>
<p>Returns a formatted string containing a full discussion of the motivation for and details of the Policy module that created this Violation. This information is automatically extracted from the <code>DESCRIPTION</code> section of the Policy module&#39;s POD.</p>

<dt><a name="policy()"
><code>policy()</code></a></dt>

<dd>
<p>Returns the name of the <a href="../../Perl/Critic/Policy.html" class="podlinkpod"
>Perl::Critic::Policy</a> that created this Violation.</p>

<dt><a name="source()"
><code>source()</code></a></dt>

<dd>
<p>Returns the string of source code that caused this exception. If the code spans multiple lines (e.g. multi-line statements, subroutines or other blocks), then only the first line will be returned.</p>

<dt><a name="element_class()"
><code>element_class()</code></a></dt>

<dd>
<p>Returns the <a href="../../PPI/Element.html" class="podlinkpod"
>PPI::Element</a> subclass of the code that caused this exception.</p>

<dt><a name="set_format(_$format_)"
><code>set_format( $format )</code></a></dt>

<dd>
<p>Class method. Sets the format for all Violation objects when they are evaluated in string context. The default is <code>&#39;%d at line %l, column %c. %e&#39;</code>. See <a href="#OVERLOADS" class="podlinkpod"
>&#34;OVERLOADS&#34;</a> for formatting options.</p>

<dt><a name="get_format()"
><code>get_format()</code></a></dt>

<dd>
<p>Class method. Returns the current format for all Violation objects when they are evaluated in string context.</p>

<dt><a name="to_string()"
><code>to_string()</code></a></dt>

<dd>
<p>Returns a string representation of this violation. The content of the string depends on the current value of the <code>$format</code> package variable. See <a href="#OVERLOADS" class="podlinkpod"
>&#34;OVERLOADS&#34;</a> for the details.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OVERLOADS"
>OVERLOADS</a></h1>

<p>Perl::Critic::Violation overloads the <code>&#34;&#34;</code> operator to produce neat little messages when evaluated in string context.</p>

<p>Formats are a combination of literal and escape characters similar to the way <code>sprintf</code> works. If you want to know the specific formatting capabilities, look at <a href="../../String/Format.html" class="podlinkpod"
>String::Format</a>. Valid escape characters are:</p>

<pre>    Escape    Meaning
    -------   ----------------------------------------------------------------
    %c        Column number where the violation occurred
    %d        Full diagnostic discussion of the violation (DESCRIPTION in POD)
    %e        Explanation of violation or page numbers in PBP
    %F        Just the name of the logical file where the violation occurred.
    %f        Path to the logical file where the violation occurred.
    %G        Just the name of the physical file where the violation occurred.
    %g        Path to the physical file where the violation occurred.
    %l        Logical line number where the violation occurred
    %L        Physical line number where the violation occurred
    %m        Brief description of the violation
    %P        Full name of the Policy module that created the violation
    %p        Name of the Policy without the Perl::Critic::Policy:: prefix
    %r        The string of source code that caused the violation
    %C        The class of the PPI::Element that caused the violation
    %s        The severity level of the violation</pre>

<p>Explanation of the <code>%F</code>, <code>%f</code>, <code>%G</code>, <code>%G</code>, <code>%l</code>, and <code>%L</code> formats: Using <code>#line</code> directives, you can affect what perl thinks the current line number and file name are; see <a href="../../perlsyn.html#Plain_Old_Comments_(Not!)" class="podlinkpod"
>&#34;Plain Old Comments (Not!)&#34; in perlsyn</a> for the details. Under normal circumstances, the values of <code>%F</code>, <code>%f</code>, and <code>%l</code> will match the values of <code>%G</code>, <code>%g</code>, and <code>%L</code>, respectively. In the presence of a <code>#line</code> directive, the values of <code>%F</code>, <code>%f</code>, and <code>%l</code> will change to take that directive into account. The values of <code>%G</code>, <code>%g</code>, and <code>%L</code> are unaffected by those directives.</p>

<p>Here are some examples:</p>

<pre>    Perl::Critic::Violation::set_format(&#34;%m at line %l, column %c.\n&#34;);
    # looks like &#34;Mixed case variable name at line 6, column 23.&#34;

    Perl::Critic::Violation::set_format(&#34;%m near &#39;%r&#39;\n&#34;);
    # looks like &#34;Mixed case variable name near &#39;my $theGreatAnswer = 42;&#39;&#34;

    Perl::Critic::Violation::set_format(&#34;%l:%c:%p\n&#34;);
    # looks like &#34;6:23:NamingConventions::Capitalization&#34;

    Perl::Critic::Violation::set_format(&#34;%m at line %l. %e. \n%d\n&#34;);
    # looks like &#34;Mixed case variable name at line 6.  See page 44 of PBP.
      Conway&#39;s recommended naming convention is to use lower-case words
      separated by underscores.  Well-recognized acronyms can be in ALL
      CAPS, but must be separated by underscores from other parts of the
      name.&#34;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Jeffrey Ryan Thalhammer &#60;jeff@imaginative-software.com&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c) 2005-2011 Imaginative Software Systems. All rights reserved.</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself. The full text of this license can be found in the LICENSE file included with this module.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
